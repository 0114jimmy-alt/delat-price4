<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RK å·¥ä½œå®¤</title>
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0a0e14">
    <style>
        /* ============================
           CSS è®Šæ•¸èˆ‡é‡ç½®æ¨£å¼
           ============================ */
        :root {
            --primary-color: #ff6600;
            --secondary-color: #00ff9d;
            --accent-color: #0099ff;
            --danger-color: #ff6666;
            --warning-color: #ffcc00;
            --success-color: #00cc7d;
            --dark-bg: #0a0e14;
            --dark-card: rgba(22, 27, 37, 0.95);
            --border-color: #333945;
            --text-primary: #ffffff;
            --text-secondary: #8a9ba8;
            --text-muted: #666;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', 'Segoe UI', sans-serif;
            -webkit-tap-highlight-color: transparent;
            transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1a1f29 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ============================
           è¼‰å…¥å‹•ç•« - ç°¡åŒ–ç‰ˆæœ¬
           ============================ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark-bg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10002;
            transition: opacity 0.5s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        .loading-text {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ============================
           ç®¡ç†å“¡ç™»å…¥æŒ‰éˆ•
           ============================ */
        .admin-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            z-index: 9999;
            box-shadow: 0 4px 15px rgba(255, 102, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            min-height: 44px;
            min-width: 44px;
        }

        .admin-btn:hover {
            background: #ff8800;
            transform: translateY(-2px);
        }

        /* ============================
           å°èˆªæ¬„
           ============================ */
        .navbar {
            background: rgba(22, 27, 37, 0.95);
            border-bottom: 3px solid var(--primary-color);
            padding: 15px 30px;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(255, 102, 0, 0.5);
            text-decoration: none;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: bold;
            cursor: pointer;
        }

        .nav-link:hover {
            color: var(--warning-color);
            background: rgba(255, 102, 0, 0.1);
        }

        .nav-link.active {
            color: var(--text-primary);
            background: var(--primary-color);
        }

        .book-now-btn {
            background: var(--secondary-color);
            color: var(--dark-bg);
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .book-now-btn:hover {
            background: #00cc7d;
            transform: scale(1.05);
        }

        /* ============================
           ä¸»å®¹å™¨
           ============================ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* ============================
           è‹±é›„å€
           ============================ */
        .hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(10, 14, 20, 0.9), rgba(26, 31, 41, 0.9));
            border-radius: 15px;
            margin-bottom: 40px;
            border: 2px solid var(--primary-color);
        }

        .hero-title {
            font-size: 3.5rem;
            background: linear-gradient(90deg, var(--primary-color), #ffaa00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 15px;
            text-shadow: 0 0 15px rgba(255, 102, 0, 0.3);
        }

        /* ============================
           æœå‹™å¡ç‰‡
           ============================ */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .service-card {
            background: var(--dark-card);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 102, 0, 0.2);
            border-color: var(--primary-color);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-right: 15px;
        }

        .card-title {
            font-size: 1.8rem;
            color: var(--warning-color);
        }

        .book-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 25px;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
        }

        .book-btn:hover {
            background: #ff8800;
            transform: scale(1.05);
        }

        /* ============================
           ä»˜æ¬¾é é¢
           ============================ */
        .payment-section {
            background: var(--dark-card);
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            border: 2px solid var(--secondary-color);
        }

        .payment-title {
            color: var(--secondary-color);
            font-size: 2.2rem;
            margin-bottom: 30px;
            text-align: center;
        }

        /* ============================
           é è…³
           ============================ */
        .footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* ============================
           ç®¡ç†å¾Œå°
           ============================ */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 20, 0.98);
            z-index: 10000;
            overflow-y: auto;
            padding: 20px;
        }

        .admin-panel.active {
            display: block;
        }

        /* ============================
           éŸ¿æ‡‰å¼è¨­è¨ˆ
           ============================ */
        @media (max-width: 768px) {
            .navbar {
                flex-wrap: wrap;
                padding: 10px 15px;
            }
            
            .logo {
                font-size: 1.5rem;
                order: 1;
            }
            
            .menu-toggle {
                display: flex;
                order: 2;
            }
            
            .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                order: 3;
                margin-top: 15px;
                background: rgba(22, 27, 37, 0.95);
                padding: 15px;
                border-radius: 10px;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-link {
                width: 100%;
                text-align: center;
                padding: 12px;
                margin: 5px 0;
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
        }

        /* éš±è—ä¸€äº›è¤‡é›œçš„æ¨£å¼ä»¥ç°¡åŒ–åˆå§‹åŒ– */
    </style>
</head>
<body>
    <!-- è¼‰å…¥å‹•ç•« - ç°¡åŒ–ç‰ˆæœ¬ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">ç³»çµ±è¼‰å…¥ä¸­...</div>
    </div>

    <!-- ç®¡ç†å“¡ç™»å…¥æŒ‰éˆ• -->
    <button class="admin-btn" onclick="openAdminPanel()">
        <span>ğŸ”§</span>
        <span>ç®¡ç†å¾Œå°</span>
    </button>

    <!-- å°èˆªæ¬„ -->
    <nav class="navbar">
        <a href="#" class="logo" onclick="showTab('home')">RK å·¥ä½œå®¤</a>
        <div class="menu-toggle" id="menuToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="nav-links" id="navLinks">
            <a href="#" class="nav-link active" onclick="showTab('home')">é¦–é </a>
            <a href="#" class="nav-link" onclick="showTab('escort')">è­·èˆªæœå‹™</a>
            <a href="#" class="nav-link" onclick="showTab('betting')">è³­ç´„å–®</a>
            <a href="#" class="nav-link" onclick="showTab('entertainment')">å¨›æ¨‚ç©æ³•</a>
            <a href="#" class="nav-link" onclick="showTab('peipei')">å¨›æ¨‚é™ªç©</a>
            <a href="#" class="nav-link" onclick="showTab('rules')">è¦å‰‡æ¢æ¬¾</a>
            <a href="#" class="nav-link book-now-btn" onclick="showTab('payment')">ç«‹å³é ç´„</a>
        </div>
    </nav>

    <!-- ä¸»å…§å®¹å€ -->
    <div class="container">
        <!-- é¦–é  -->
        <div class="tab-content active" id="home">
            <div class="hero">
                <h1 class="hero-title">RK å·¥ä½œå®¤</h1>
                <p class="hero-subtitle" style="color: var(--text-secondary); font-size: 1.3rem; margin-bottom: 25px;">
                    é ‚å°–æ‰“æ‰‹åœ˜éšŠ Â· å°ˆæ¥­è­·èˆªæœå‹™ Â· å®‰å…¨é«˜æ•ˆä¿éšœ
                </p>
                <div style="margin-top: 30px;">
                    <button onclick="showTab('escort')" style="background: var(--primary-color); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin: 0 10px;">
                        æŸ¥çœ‹è­·èˆªæœå‹™
                    </button>
                    <button onclick="showTab('payment')" style="background: var(--secondary-color); color: var(--dark-bg); border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin: 0 10px; font-weight: bold;">
                        ç«‹å³é ç´„ä»˜æ¬¾
                    </button>
                </div>
            </div>

            <!-- æœå‹™ç°¡ä»‹ -->
            <div class="services-grid">
                <div class="service-card" onclick="selectService('åŸºç¤å–®-500', '500', 'ä¿åº• 600w')">
                    <div class="card-header">
                        <div class="card-icon">ğŸ›¡ï¸</div>
                        <h2 class="card-title">æˆ°è¡“è­·èˆªæœå‹™</h2>
                    </div>
                    <p>å°ˆæ¥­æ‰“æ‰‹åœ˜éšŠï¼Œæˆ‘å€‘æä¾›æœ€å¯é çš„è­·èˆªæœå‹™ï¼Œä¿è­‰æ‚¨çš„éŠæˆ²ç‰©è³‡å®‰å…¨ã€‚</p>
                    <ul style="margin-top: 15px; padding-left: 20px; color: var(--text-secondary);">
                        <li>åŸºç¤å–®ï¼š500èµ·ï¼Œä¿åº•600w</li>
                        <li>é«”é©—å–®ï¼š200èµ·ï¼Œä¿åº•400w</li>
                        <li>èˆªå¤©è³­ç´„å–®ï¼šé«˜é¢¨éšªé«˜å›å ±</li>
                    </ul>
                    <button class="book-btn">äº†è§£æ›´å¤š</button>
                </div>

                <div class="service-card" onclick="selectService('ç”·é™ªç©-å¨›æ¨‚', '250', 'æ¯å°æ™‚')">
                    <div class="card-header">
                        <div class="card-icon">ğŸ®</div>
                        <h2 class="card-title">å¨›æ¨‚é™ªç©æœå‹™</h2>
                    </div>
                    <p>å°ˆæ¥­é™ªç©å¸«åœ˜éšŠï¼Œæä¾›æŠ€è¡“æŒ‡å°æˆ–è¼•é¬†å¨›æ¨‚ã€‚ç”·å¥³é™ªç©å¸«å¯é¸ï¼Œè®“æ‚¨çš„éŠæˆ²é«”é©—æ›´åŠ è±å¯Œæœ‰è¶£ã€‚</p>
                    <ul style="margin-top: 15px; padding-left: 20px; color: var(--text-secondary);">
                        <li>ç”·é™ªç©ï¼šå¨›æ¨‚250/å°æ™‚ï¼ŒæŠ€è¡“450/å°æ™‚</li>
                        <li>å¥³é™ªç©ï¼šå¨›æ¨‚350/å°æ™‚ï¼ŒæŠ€è¡“550/å°æ™‚</li>
                        <li>æ™‚é•·å¥—é¤å„ªæƒ ï¼Œæ–°å®¢å°ˆå±¬ç¦åˆ©</li>
                    </ul>
                    <button class="book-btn">äº†è§£æ›´å¤š</button>
                </div>

                <div class="service-card" onclick="selectService('ç‰›è§’å–®-1088', '1088', 'ä¿åº• 800w')">
                    <div class="card-header">
                        <div class="card-icon">âš¡</div>
                        <h2 class="card-title">ç‰¹è‰²å¨›æ¨‚ç©æ³•</h2>
                    </div>
                    <p>å¤šç¨®è¶£å‘³ç©æ³•ï¼Œè®“éŠæˆ²æ›´åŠ ç²¾å½©ã€‚ç‰›è§’å–®ã€è‡ªåŠ›æ ¹ç”Ÿç­‰ç‰¹æ®Šæ¨¡å¼ï¼ŒæŒ‘æˆ°æ¥µé™ï¼Œäº«å—éŠæˆ²æ¨‚è¶£ã€‚</p>
                    <ul style="margin-top: 15px; padding-left: 20px; color: var(--text-secondary);">
                        <li>ç‰›è§’å–®ï¼š1088èµ·ï¼Œä¿åº•800w</li>
                        <li>è‡ªåŠ›æ ¹ç”Ÿï¼š1000èµ·ï¼Œåˆå§‹ä¿åº•500w</li>
                        <li>è¦å‰‡å½ˆæ€§ï¼Œå¯å®¢è£½åŒ–éœ€æ±‚</li>
                    </ul>
                    <button class="book-btn">äº†è§£æ›´å¤š</button>
                </div>
            </div>
        </div>

        <!-- ä»˜æ¬¾é é¢ -->
        <div class="tab-content" id="payment">
            <div class="payment-section">
                <h2 class="payment-title">é ç´„æœå‹™</h2>
                <p style="text-align: center; color: var(--text-secondary); margin-bottom: 30px;">
                    è«‹å¾é¦–é é¸æ“‡æ‚¨éœ€è¦çš„æœå‹™ï¼Œæˆ–ç›´æ¥è¯ç¹«å®¢æœ @510qapos
                </p>
                <div style="text-align: center;">
                    <button onclick="window.open('https://line.me/R/ti/p/@510qapos', '_blank')" 
                            class="book-now-btn" 
                            style="padding: 15px 40px; font-size: 1.2rem;">
                        ğŸ“ è¯ç¹«å®¢æœé ç´„
                    </button>
                </div>
            </div>
        </div>

        <!-- è¯ç¹«å€ -->
        <div class="contact-section" style="background: rgba(0, 150, 255, 0.1); border-radius: 15px; padding: 40px; margin-top: 50px; text-align: center; border: 2px solid var(--accent-color);">
            <h2 style="color: var(--accent-color); font-size: 2rem; margin-bottom: 20px;">ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ</h2>
            <div style="color: var(--text-primary); font-size: 1.3rem; margin: 15px 0;">å®˜æ–¹LINEå®¢æœï¼š@510qapos</div>
            <div style="color: var(--text-primary); font-size: 1.3rem; margin: 15px 0;">æœå‹™æ™‚é–“ï¼šæ¯æ—¥ 10:00 - 02:00</div>
            <div style="color: var(--text-primary); font-size: 1.3rem; margin: 15px 0;">ç·Šæ€¥è¯ç¹«ï¼š24å°æ™‚å€¼ç­å®¢æœ</div>
        </div>
    </div>

    <!-- é è…³ -->
    <footer class="footer">
        <div>ä¸‰è§’æ´²è¡Œå‹• Â· å°ˆæ¥­æˆ°è¡“æ”¯æ´æœå‹™</div>
        <div style="margin-top: 10px;">Â© 2024 ä¸‰è§’æ´²è¡Œå‹•æˆ°è¡“æ”¯æ´æœå‹™ä¸­å¿ƒ | ç‰ˆæœ¬ï¼š2024.01</div>
        <div style="margin-top: 10px; font-size: 0.8rem; color: var(--text-muted);">æœ¬æœå‹™åƒ…ä¾›å¨›æ¨‚åƒè€ƒï¼Œè«‹éµå®ˆéŠæˆ²è¦å‰‡èˆ‡ç›¸é—œæ³•å¾‹</div>
    </footer>

    <!-- ç°¡åŒ–çš„ç®¡ç†å¾Œå° -->
    <div class="admin-panel" id="adminPanel">
        <div style="padding: 20px;">
            <h1 style="color: var(--primary-color); text-align: center; margin-bottom: 30px;">ğŸ“Š è¨‚å–®ç®¡ç†å¾Œå°</h1>
            
            <!-- ç™»å…¥è¡¨å–® -->
            <div id="adminLogin" style="max-width: 400px; margin: 50px auto; padding: 40px; background: var(--dark-card); border-radius: 15px; border: 2px solid var(--primary-color);">
                <h2 style="color: var(--warning-color); text-align: center; margin-bottom: 30px;">ç®¡ç†å“¡ç™»å…¥</h2>
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <input type="password" id="adminPassword" 
                           placeholder="è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼" 
                           autocomplete="off"
                           style="padding: 15px; background: rgba(255, 255, 255, 0.1); border: 2px solid var(--border-color); border-radius: 8px; color: white; font-size: 1rem;">
                    <button onclick="adminLogin()" 
                            style="background: var(--secondary-color); color: var(--dark-bg); border: none; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer;">
                        ç™»å…¥
                    </button>
                    <button onclick="closeAdminPanel()" 
                            style="background: var(--border-color); color: white; border: none; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer;">
                        å–æ¶ˆ
                    </button>
                </div>
                <p style="text-align: center; margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">
                    æç¤ºï¼šåˆå§‹å¯†ç¢¼ç‚º Smile1124
                </p>
            </div>
        </div>
    </div>

    <script>
        // ============================
        // ç°¡åŒ–åˆå§‹åŒ–
        // ============================
        
        // ç³»çµ±é…ç½®
        const SYSTEM_CONFIG = {
            ADMIN_PASSWORD: 'Smile1124'
        };
        
        // åˆå§‹è¨‚å–®æ•¸æ“š
        let orders = [];
        
        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é é¢è¼‰å…¥å®Œæˆï¼Œé–‹å§‹åˆå§‹åŒ–...');
            
            // ç«‹å³éš±è—è¼‰å…¥ç•«é¢
            setTimeout(() => {
                const loadingOverlay = document.getElementById('loadingOverlay');
                if (loadingOverlay) {
                    loadingOverlay.classList.add('hidden');
                    
                    // å®Œå…¨ç§»é™¤è¼‰å…¥ç•«é¢
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500);
                }
            }, 500);
            
            // åˆå§‹åŒ–åŸºæœ¬åŠŸèƒ½
            initBasicFunctions();
            
            // è¼‰å…¥è¨‚å–®æ•¸æ“š
            loadOrders();
            
            // åˆå§‹åŒ–æ¼¢å ¡é¸å–®
            initMenuToggle();
            
            console.log('åˆå§‹åŒ–å®Œæˆï¼');
        });
        
        // ============================
        // åŸºæœ¬åŠŸèƒ½åˆå§‹åŒ–
        // ============================
        
        function initBasicFunctions() {
            // é é¢åˆ‡æ›åŠŸèƒ½
            window.showTab = function(tabId) {
                console.log('åˆ‡æ›åˆ°åˆ†é :', tabId);
                
                // éš±è—æ‰€æœ‰åˆ†é 
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // ç§»é™¤æ‰€æœ‰å°èˆªé€£çµçš„activeé¡
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                
                // é¡¯ç¤ºé¸ä¸­çš„åˆ†é 
                const targetTab = document.getElementById(tabId);
                if (targetTab) {
                    targetTab.classList.add('active');
                }
                
                // æ¿€æ´»å°æ‡‰çš„å°èˆªé€£çµ
                const activeLink = document.querySelector(`[onclick="showTab('${tabId}')"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
                
                // æ»¾å‹•åˆ°é ‚éƒ¨
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };
            
            // æœå‹™é¸æ“‡åŠŸèƒ½
            window.selectService = function(name, price, description) {
                alert(`å·²é¸æ“‡æœå‹™ï¼š${name}\nåƒ¹æ ¼ï¼š${price}å…ƒ\nèªªæ˜ï¼š${description}\nè«‹è¯ç¹«å®¢æœå®Œæˆé ç´„ã€‚`);
                showTab('payment');
            };
            
            // ç®¡ç†å¾Œå°åŠŸèƒ½
            window.openAdminPanel = function() {
                document.getElementById('adminPanel').classList.add('active');
                document.getElementById('adminPassword').value = '';
            };
            
            window.closeAdminPanel = function() {
                document.getElementById('adminPanel').classList.remove('active');
            };
            
            window.adminLogin = function() {
                const password = document.getElementById('adminPassword').value;
                
                if (password === SYSTEM_CONFIG.ADMIN_PASSWORD) {
                    alert('ç™»å…¥æˆåŠŸï¼ç®¡ç†å¾Œå°åŠŸèƒ½æ­£åœ¨é–‹ç™¼ä¸­...');
                    closeAdminPanel();
                } else {
                    alert('å¯†ç¢¼éŒ¯èª¤ï¼');
                }
            };
        }
        
        // ============================
        // æ¼¢å ¡é¸å–®åˆå§‹åŒ–
        // ============================
        
        function initMenuToggle() {
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');
            
            if (!menuToggle || !navLinks) return;
            
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                
                const spans = menuToggle.querySelectorAll('span');
                if (navLinks.classList.contains('active')) {
                    spans[0].style.transform = 'rotate(45deg) translate(5px, 6px)';
                    spans[1].style.opacity = '0';
                    spans[2].style.transform = 'rotate(-45deg) translate(5px, -6px)';
                } else {
                    spans[0].style.transform = 'none';
                    spans[1].style.opacity = '1';
                    spans[2].style.transform = 'none';
                }
            });
            
            // é»æ“Šå°èˆªé€£çµå¾Œé—œé–‰æ¼¢å ¡é¸å–®ï¼ˆæ‰‹æ©Ÿç‰ˆï¼‰
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        navLinks.classList.remove('active');
                        const spans = menuToggle.querySelectorAll('span');
                        spans[0].style.transform = 'none';
                        spans[1].style.opacity = '1';
                        spans[2].style.transform = 'none';
                    }
                });
            });
        }
        
        // ============================
        // è¨‚å–®æ•¸æ“šç®¡ç†
        // ============================
        
        function loadOrders() {
            try {
                const savedOrders = localStorage.getItem('delta_orders');
                if (savedOrders) {
                    orders = JSON.parse(savedOrders);
                    console.log(`å·²è¼‰å…¥ ${orders.length} ç­†è¨‚å–®`);
                } else {
                    // è¼‰å…¥ç¤ºä¾‹è¨‚å–®
                    loadSampleOrders();
                    console.log('è¼‰å…¥ç¤ºä¾‹è¨‚å–®');
                }
            } catch (error) {
                console.error('è¼‰å…¥è¨‚å–®æ•¸æ“šæ™‚å‡ºéŒ¯:', error);
                orders = [];
            }
        }
        
        function loadSampleOrders() {
            const sampleOrders = [
                {
                    id: 'DELTA-20240001',
                    gameId: 'éŠæˆ²ç©å®¶001',
                    contactType: 'line',
                    contactId: 'line001',
                    bookingTime: new Date(Date.now() + 86400000).toISOString(),
                    serviceName: 'åŸºç¤å–®',
                    description: 'ä¿åº• 600w',
                    amount: '500',
                    specialRequest: 'å¸Œæœ›æ™šä¸Šæ™‚æ®µ',
                    status: 'pending',
                    createdAt: new Date(Date.now() - 3600000).toISOString(),
                    updatedAt: new Date(Date.now() - 3600000).toISOString(),
                    paymentMethod: 'å¾…ç¢ºèª',
                    notes: 'æ–°å®¢æˆ¶ï¼Œé¦–æ¬¡é ç´„'
                },
                {
                    id: 'DELTA-20240002',
                    gameId: 'è³‡æ·±ç©å®¶',
                    contactType: 'discord',
                    contactId: 'discord_user',
                    bookingTime: new Date(Date.now() + 172800000).toISOString(),
                    serviceName: 'ç”·é™ªç©-æŠ€è¡“',
                    description: 'æ¯å°æ™‚',
                    amount: '450',
                    specialRequest: 'éœ€è¦æŠ€è¡“æŒ‡å°',
                    status: 'paid',
                    createdAt: new Date(Date.now() - 7200000).toISOString(),
                    updatedAt: new Date(Date.now() - 3600000).toISOString(),
                    paymentMethod: 'LINE Pay',
                    paymentTime: new Date(Date.now() - 3600000).toISOString(),
                    assignedTo: 'æ‰“æ‰‹é˜¿æ˜',
                    notes: 'å·²ä»˜æ¬¾ï¼Œç­‰å¾…æœå‹™'
                }
            ];
            
            orders = sampleOrders;
            localStorage.setItem('delta_orders', JSON.stringify(orders));
        }
        
        // ============================
        // éŒ¯èª¤è™•ç†
        // ============================
        
        window.addEventListener('error', function(e) {
            console.error('ç™¼ç”ŸéŒ¯èª¤:', e.error);
            
            // éš±è—è¼‰å…¥ç•«é¢ä»¥é˜²å¡ä½
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
                loadingOverlay.style.display = 'none';
            }
            
            // é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
            setTimeout(() => {
                alert('ç³»çµ±ç™¼ç”ŸéŒ¯èª¤ï¼Œä½†åŸºæœ¬åŠŸèƒ½ä»å¯ä½¿ç”¨ã€‚\nè«‹åˆ·æ–°é é¢æˆ–è¯ç¹«å®¢æœã€‚');
            }, 100);
        });
        
        // ============================
        // ç¢ºä¿è¼‰å…¥ç•«é¢ä¸€å®šæœƒéš±è—
        // ============================
        
        // è¨­ç½®å®‰å…¨è¶…æ™‚ï¼Œç¢ºä¿è¼‰å…¥ç•«é¢ä¸æœƒæ°¸ä¹…é¡¯ç¤º
        setTimeout(() => {
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay && loadingOverlay.style.display !== 'none') {
                console.log('å®‰å…¨è¶…æ™‚ï¼šå¼·åˆ¶éš±è—è¼‰å…¥ç•«é¢');
                loadingOverlay.style.display = 'none';
            }
        }, 5000); // 5ç§’å¾Œå¼·åˆ¶éš±è—
        
        // ç›£è½æ‰€æœ‰åœ–ç‰‡è¼‰å…¥å®Œæˆ
        window.addEventListener('load', () => {
            console.log('æ‰€æœ‰è³‡æºè¼‰å…¥å®Œæˆ');
            
            // æœ€å¾Œç¢ºä¿è¼‰å…¥ç•«é¢éš±è—
            setTimeout(() => {
                const loadingOverlay = document.getElementById('loadingOverlay');
                if (loadingOverlay) {
                    loadingOverlay.style.display = 'none';
                }
            }, 100);
        });
    </script>
</body>
</html>